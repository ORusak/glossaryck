# Описание задачи
Калькулятор валюты.

В магазине покупатель выбрал 4 товара со следующими ценами.
В результате сформировалась корзина,
``` js
const selectedCart = [
   { price: 20 },
   { price: 45 },
   { price: 67 },
   { price: 1305 }
];
```
Магазин, в котором совершается покупка интернациональный и каждый клиент может выбрать любую валюту, с помощью которой будет осуществлять оплату.
Список доступных валют: rubles, euros, dollard, pounds, yens (базовой валютой является dollar).
Курсы валют при расчете необходимо получить от online web сервиса.

Цель. Рассчитать общую цену для каждого типа валюты, получив объект вида:

``` js
const totalCartPrice = { 
   rubles: number,
   euros: number,
   US dollars: number,
   pounds: number,
   yens: number
};
``` 

В решении использовать функциональное программирование.

# Реализация
## Простая реализация под конкретную задачу
### Запуск
``` bash
cd src/js/tasks/functional-data-process/
node funtional-process-data-simple.js
```
### Особенности реализации
* выделений чистых функций трансформации
* инкапсуляция побочных эффектов в монаде
    * осуществляет общений с внешним миром. Получение данных с ресурса определенного настройками.
    * запускает функцию конечной трансвормации
    * предоставляет результат в виде api Promise
* Ограничения
    * Получение данных из одного ресурса
    * Последующая транисформация одним обработчиком
 
## Реализация функциональной цепочкой
### Запуск
``` bash
cd src/js/tasks/functional-data-process/
node funtional-process-data.js
```
### Особенности реализации
* выделений чистых функций трансформации
* инкапсуляция побочных эффектов в функционалной цепочке трансформации с фиксированным api
    * декларативное, семантичное описание операций, инкапсуляция формирования цепочки Promise при запуске 
    * возможность переиспользования цепочки в разных задачах трансформаций данных
    * выделены операции трансформации (map, reduce) и операции регистрации данных в цепочке (data, resource)
    
* Ограничения
    * На текущий момент нет возможности перезапуска цепочки с новыми данными. Требуется определять ее заново.
        * требуется решить задачу инициализации цепочки с новым контекстом
    * Нет возможности подписываться на изменения данных аля rx.js
        * требуется добавить операцию watch или observable для слежения заизмененим источника
        * по изменению перезапускать вычеслений цепочки
        * фиксировать в контексте цепочке результаты предыдущих запусков операций для суммирования результатов каждого цикла перезапуска  
    * Цепочка предоставляет операциям ограниченный интерфейс получения данных с предыдущих операций. Позиционные параметры из  
    операций регистрации данных
    * 
    
## Реализация монадой последовательности
``` bash
cd src/js/tasks/functional-data-process/
npm i
node funtional-process-data-monad-sequence.js
```
### Особенности реализации
* использование *своей* библиотеки реализации монады последовательности
* выделений чистых функций трансформации
* инкапсуляция побочных эффектов в цепочке трансформации без фиксированного api
    * декларативное описание операций, инкапсуляция формирования цепочки Promise при запуске 
    * возможность переиспользования монады в разных задачах трансформаций данных
    * в монаде выделены операции комбинирования действий по транисвормации (one, all, race)
    * в монаде выделены операции транисформации (map) и прочее
    * контроль над выполнение последовательности
    * элементы DI для предоставления не ограниченного интерфейса получения данных с предыдущих операций 
    
* Ограничения
    * Нет всех операций трансформации для удобства манипуляций (reduce, mapObject)
    * Ресурсоемкий механизм выполнения с учетом фактически посроенния мета языка
    * 
